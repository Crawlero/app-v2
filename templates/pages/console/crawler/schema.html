{{ define "content" }}
<div>
  {{ template "crawler-detail-header" . }}

  <div id="form-container" class="mt-2"></div>
  <button class="btn btn-primary" id="submit">Submit</button>
</div>

<script type="module">
  import { renderFields } from "/static/js/schema-editor.mjs";

  const formContainer = document.getElementById("form-container");
  const fields = [
    {
      name: "abc",
      selector: "okok",
      type: "text",
    },
  ];
  renderFields(fields, formContainer);

  document.getElementById("submit").addEventListener("click", () => {
    console.log("submit");
    console.log(fields);
  });
</script>

<style>
  .fieldItem {
    animation:
      show 0.2s ease-out forwards,
      colorSplash 0.2s ease-out forwards;
    opacity: 0;
    transform: translateY(-100%);
  }

  .removing {
    animation:
      remove 0.2s ease-out forwards,
      colorSplash 0.3s ease-out forwards;
  }

  .inputField {
    animation: colorSplash 0.3s ease-out forwards;
  }

  @keyframes show {
    0% {
      opacity: 0;
      transform: translateY(-100%);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes remove {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    50% {
      opacity: 0.5;
      transform: translateY(-10px) scale(1.02);
    }
    100% {
      opacity: 0;
      transform: translateY(-100%) scale(0.95);
    }
  }

  @keyframes colorSplash {
    0% {
      background: linear-gradient(
        45deg,
        #ff9a9e,
        #fad0c4
      ); /* Start with a gradient from light pink to peach */
    }
    50% {
      background: linear-gradient(
        45deg,
        #fad0c4,
        #fcb69f
      ); /* Transition to a gradient from peach to light coral */
    }
    100% {
      background: linear-gradient(
        45deg,
        transparent,
        transparent
      ); /* End with a transparent gradient */
    }
  }
</style>

{{end}}
